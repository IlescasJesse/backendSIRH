import{c as H}from"./chunk-EV6A2XWA.js";import{A as v,B as $,C as W,E as Z,G as Y,H as X,K as J,L as Q,M as ee,N as te,O as ie,Q as ne,R as oe,S as re,Ta as se,W as ae,v as K,x as U,z as G}from"./chunk-HRXI56HS.js";import"./chunk-Z2MHMUCR.js";import"./chunk-CARY4E7O.js";import{$a as l,Da as A,Ea as w,Eb as o,F as I,Fb as r,Gb as u,Ja as L,Jc as B,Kc as q,Nb as y,Pb as x,Sc as z,Uc as V,Yb as m,Zb as T,_b as O,ab as d,ca as P,da as _,dc as N,fa as p,ha as f,ib as k,mb as D,n as R,na as E,oa as M,s as F,sb as b,tb as j,ub as g}from"./chunk-LOEIOWTE.js";var fe=new p("recaptcha-language"),ge=new p("recaptcha-base-url"),ve=new p("recaptcha-nonce-tag"),be=new p("recaptcha-settings"),ye=new p("recaptcha-v3-site-key"),xe=new p("recaptcha-loader-options");function Ce(t,c,e,{url:i,lang:n,nonce:a}={}){window.ng2recaptchaloaded=()=>{e(grecaptcha)};let s=document.createElement("script");s.innerHTML="";let{url:h,nonce:C}=c(new URL(i||"https://www.google.com/recaptcha/api.js"));h.searchParams.set("render",t==="explicit"?t:t.key),h.searchParams.set("onload","ng2recaptchaloaded"),h.searchParams.set("trustedtypes","true"),n&&h.searchParams.set("hl",n),s.src=h.href;let S=C||a;S&&s.setAttribute("nonce",S),s.async=!0,s.defer=!0,document.head.appendChild(s)}function _e({v3SiteKey:t,onBeforeLoad:c,onLoaded:e}){let i=t?{key:t}:"explicit";ce.loadScript(i,c,e)}var ce={loadScript:Ce,newLoadScript:_e};function Ee(t){return t.asObservable().pipe(I(c=>c!==null))}var le=(()=>{class t{static{this.ready=null}constructor(e,i,n,a,s,h){this.platformId=e,this.language=i,this.baseUrl=n,this.nonce=a,this.v3SiteKey=s,this.options=h;let C=this.init();this.ready=C?Ee(C):F()}init(){if(t.ready)return t.ready;if(!V(this.platformId))return;let e=new R(null);return t.ready=e,ce.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:i=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(i);let n=new URL(this.baseUrl??i);return this.language&&n.searchParams.set("hl",this.language),{url:n,nonce:this.nonce}},onLoaded:i=>{let n=i;this.options?.onLoaded&&(n=this.options.onLoaded(i)),e.next(n)}}),e}static{this.\u0275fac=function(i){return new(i||t)(f(L),f(fe,8),f(ge,8),f(ve,8),f(ye,8),f(xe,8))}}static{this.\u0275prov=P({token:t,factory:t.\u0275fac})}}return t})(),Me=0,de=(()=>{class t{constructor(e,i,n,a){this.elementRef=e,this.loader=i,this.zone=n,this.id=`ngrecaptcha-${Me++}`,this.errorMode="default",this.resolved=new w,this.error=new w,this.errored=new w,a&&(this.siteKey=a.siteKey,this.theme=a.theme,this.type=a.type,this.size=a.size,this.badge=a.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(e=>{e!=null&&e.render instanceof Function&&(this.grecaptcha=e,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){this.size==="invisible"&&(this.widget!=null?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){this.widget!=null&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return this.widget!=null?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(e){this.error.emit(e),this.errored.emit(e)}captchaResponseCallback(e){this.resolved.emit(e)}grecaptchaReset(){this.widget!=null&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){let e={badge:this.badge,callback:i=>{this.zone.run(()=>this.captchaResponseCallback(i))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};this.errorMode==="handled"&&(e["error-callback"]=(...i)=>{this.zone.run(()=>this.onError(i))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,e),this.executeRequested===!0&&(this.executeRequested=!1,this.execute())}static{this.\u0275fac=function(i){return new(i||t)(d(A),d(le),d(k),d(be,8))}}static{this.\u0275cmp=E({type:t,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(i,n){i&2&&j("id",n.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return t})(),ue=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=M({type:t})}static{this.\u0275inj=_({})}}return t})(),me=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=M({type:t})}static{this.\u0275inj=_({providers:[le],imports:[ue]})}}return t})();var he=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=M({type:t})}static{this.\u0275inj=_({imports:[ee,ue]})}}return t})();function je(t,c){if(t&1&&(o(0,"small"),u(1,"i",24),m(2),r()),t&2){let e=x().$implicit;l(2),O("",e.message," ")}}function Oe(t,c){if(t&1&&(o(0,"mat-error"),b(1,je,3,1,"small",23),r()),t&2){let e,i=c.$implicit,n=x();l(),g("ngIf",((e=n.loginForm.get("username"))==null?null:e.hasError(i.type))&&(((e=n.loginForm.get("username"))==null?null:e.dirty)||((e=n.loginForm.get("username"))==null?null:e.touched)))}}function Se(t,c){if(t&1&&(o(0,"small"),u(1,"i",24),m(2),r()),t&2){let e=x().$implicit;l(2),O("",e.message," ")}}function Re(t,c){if(t&1&&(o(0,"mat-error"),b(1,Se,3,1,"small",23),r()),t&2){let e,i=c.$implicit,n=x();l(),g("ngIf",((e=n.loginForm.get("password"))==null?null:e.hasError(i.type))&&(((e=n.loginForm.get("password"))==null?null:e.dirty)||((e=n.loginForm.get("password"))==null?null:e.touched)))}}var lt=(()=>{class t{clickEvent(e){this.hide.set(!this.hide()),e.preventDefault(),e.stopPropagation()}constructor(e,i){this.fb=e,this.router=i,this.hide=D(!0),this.recaptchaResponse=null,this.patternPassword=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]+$/,this.validationMessages={username:[{type:"required",message:"El campo es requerido"},{type:"pattern",message:"El campo solo acepta letras y n\xFAmeros"}],password:[{type:"required",message:"El campo es requerido"},{type:"minlength",message:"El campo requiere un minimo de 8 caracteres"},{type:"pattern",message:"La contrase\xF1a debe contener al menos una may\xFAscula, un n\xFAmero y un car\xE1cter especial"}]},this.loginForm=this.fb.group({username:["",[v.required,v.pattern("^[a-zA-Z0-9]+$")]],password:["",[v.required,v.minLength(8),v.pattern(this.patternPassword)]],recaptcha:["",v.required]})}resolved(e){this.recaptchaResponse=e,this.loginForm.controls.recaptcha.setValue(e)}login(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}this.router.navigate(["home"])}static{this.\u0275fac=function(i){return new(i||t)(d(Q),d(H))}}static{this.\u0275cmp=E({type:t,selectors:[["app-login"]],standalone:!0,features:[N],decls:34,vars:7,consts:[[1,"d-flex","justify-content-center","align-items-center","contenedor-principal"],[1,"card"],[1,"row"],[1,"col-md-6","d-none","d-md-block","columna1"],[1,"card-body","d-flex","justify-content-center","align-items-center","h-100"],["src","assets/img/oaxaca-navbar.svg","alt","..."],[1,"col-md-6","columna2"],[1,"card-body","d-flex","flex-column","align-items-center"],[1,"d-flex","justify-content-center","align-items-center","mb-3"],["src","assets/img/sirh-logo.png","alt","Logo SIRH"],[2,"width","80%"],[1,"example-form",3,"ngSubmit","formGroup"],[1,"mb-4","inputsForm"],["appearance","outline",1,"small-input"],["matInput","","type","text","placeholder","EjemploUsuario","required","","formControlName","username"],["matSuffix",""],[4,"ngFor","ngForOf"],["appearance","outline"],["autocomplete","off","matInput","","placeholder","************","required","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"mb-3"],["siteKey","6LcvLTIqAAAAAEmoWWfl5qZwtsrlYwGGV5W8XCN5",3,"resolved"],["mat-raised-button","","color","accent","type","submit",1,"loginButton"],[4,"ngIf"],[1,"fa","fa-circle-exclamation"]],template:function(i,n){i&1&&(o(0,"body")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),u(6,"img",5),r()(),o(7,"div",6)(8,"div",7)(9,"div",8),u(10,"img",9),r(),u(11,"hr",10),o(12,"form",11),y("ngSubmit",function(){return n.login()}),o(13,"div",12)(14,"mat-form-field",13)(15,"mat-label"),m(16,"Usuario"),r(),u(17,"input",14),o(18,"mat-icon",15),m(19,"person"),r()(),b(20,Oe,2,1,"mat-error",16),r(),o(21,"div",12)(22,"mat-form-field",17)(23,"mat-label"),m(24,"Contrase\xF1a"),r(),u(25,"input",18),o(26,"button",19),y("click",function(s){return n.clickEvent(s)}),o(27,"mat-icon"),m(28),r()()(),b(29,Re,2,1,"mat-error",16),r(),o(30,"div",20)(31,"re-captcha",21),y("resolved",function(s){return n.resolved(s)}),r()(),o(32,"button",22),m(33," Entrar "),r()()()()()()()()),i&2&&(l(12),g("formGroup",n.loginForm),l(8),g("ngForOf",n.validationMessages.username),l(5),g("type",n.hide()?"password":"text"),l(),j("aria-label","Hide password")("aria-pressed",n.hide()),l(2),T(n.hide()?"visibility_off":"visibility"),l(),g("ngForOf",n.validationMessages.password))},dependencies:[z,B,q,se,K,U,re,oe,te,ie,ne,ae,Z,G,$,W,J,Y,X,me,de,he],styles:["body[_ngcontent-%COMP%]{background-image:url(/assets/img/background-img.jpg);background-color:#f1f1f156}.contenedor-principal[_ngcontent-%COMP%]{height:100vh}.card[_ngcontent-%COMP%]{max-width:920px;height:auto;border-radius:5px;box-shadow:0 0 30px #0000003f}.columna1[_ngcontent-%COMP%]{background-color:#9d2449;height:auto;border-radius:5px 0 0 5px}.columna1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:350px}.columna2[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:auto}.columna2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px}.columna2[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:300px}.inputsForm[_ngcontent-%COMP%]{width:100%}.inputsForm[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.inputsForm[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#0009}.columna2[_ngcontent-%COMP%]   .loginButton[_ngcontent-%COMP%]{width:300px;margin-top:10px;margin-bottom:10px}  .mat-mdc-form-field-subscript-wrapper, .mat-mdc-form-field-bottom-align[_ngcontent-%COMP%]:before{display:none}.inputsForm[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}"]})}}return t})();export{lt as LoginComponent};
