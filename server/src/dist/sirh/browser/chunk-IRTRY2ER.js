import{a as de,b as P,c as pe,d as ue,f as _e,g as fe}from"./chunk-CILLKDSR.js";import{a as ce}from"./chunk-KGI5CVYS.js";import{c as F}from"./chunk-EV6A2XWA.js";import{B as H,D as U,Da as Y,Ea as G,Fa as K,Ga as X,Ha as ee,Ia as te,Ja as ne,Ka as ie,La as ae,Ma as oe,N as $,Na as re,Oa as le,Pa as b,Q as z,Qa as me,R as Q,S as J,T as q,Ta as se,U as Z,W,v as V,z as k}from"./chunk-HRXI56HS.js";import"./chunk-Z2MHMUCR.js";import"./chunk-CARY4E7O.js";import{$a as r,$b as O,Eb as a,Fb as i,Gb as f,Hb as d,Ib as p,Kb as E,Kc as I,Nb as g,Pb as C,Sc as N,Ub as M,Vb as B,Wb as R,Yb as o,Zb as A,_b as u,ab as L,ac as v,bc as j,cc as y,dc as D,ec as T,na as w,sb as s,ub as _,va as h,wa as x}from"./chunk-LOEIOWTE.js";var Ce=()=>[5,10,25,100];function xe(e,n){e&1&&f(0,"mat-progress-bar",35)}function Ee(e,n){e&1&&(a(0,"th",36),o(1,"#"),i())}function ge(e,n){if(e&1&&(a(0,"td",37),o(1),i()),e&2){let t=n.index,l=C();r(),u(" ",l.paginator.pageIndex*l.paginator.pageSize+t+1," ")}}function Pe(e,n){e&1&&(a(0,"th",36),o(1," NOMBRE "),i())}function Se(e,n){if(e&1&&(a(0,"td",37),o(1),i()),e&2){let t=n.$implicit;r(),u(" ",t.NOMBRE," ")}}function Le(e,n){e&1&&(a(0,"th",36),o(1," CURP "),i())}function Me(e,n){if(e&1&&(a(0,"td",37),o(1),i()),e&2){let t=n.$implicit;r(),u(" ",t.CURP," ")}}function Be(e,n){e&1&&(a(0,"th",36),o(1," CLAVECAT "),i())}function Re(e,n){if(e&1&&(a(0,"td",37),o(1),i()),e&2){let t=n.$implicit;r(),u(" ",t.CLAVECAT," ")}}function Te(e,n){e&1&&(a(0,"th",36),o(1," PROYECTO "),i())}function be(e,n){if(e&1&&(a(0,"td",37),o(1),i()),e&2){let t=n.$implicit;r(),u(" ",t.PROYECTO," ")}}function we(e,n){e&1&&(a(0,"th",36),o(1," OPCIONES "),i())}function Ae(e,n){if(e&1){let t=E();a(0,"td",37)(1,"button",38),g("click",function(){let m=h(t).$implicit,c=C();return x(c.goToEmployeeDetail(m))}),o(2," Solicitar baja "),i()()}}function Oe(e,n){e&1&&f(0,"tr",39)}function ve(e,n){e&1&&f(0,"tr",40)}function je(e,n){if(e&1&&(a(0,"tr",41)(1,"td",42),o(2),i()()),e&2){let t=C();r(2),A(t.hasSearched===!0?"No se han encontrado resultados de la b\xFAsqueda":"Ingrese un t\xE9rmino de b\xFAsqueda para ver los resultados")}}function ye(e,n){e&1&&(a(0,"th",36),o(1,"#"),i())}function De(e,n){if(e&1&&(a(0,"td",37),o(1),i()),e&2){let t=n.index,l=C();r(),u(" ",l.paginator.pageIndex*l.paginator.pageSize+t+1," ")}}function Ie(e,n){e&1&&(a(0,"th",36),o(1," NOMBRE "),i())}function Ne(e,n){if(e&1&&(a(0,"td",37),o(1),i()),e&2){let t=n.$implicit;r(),u(" ",t.NOMBRE," ")}}function Fe(e,n){e&1&&(a(0,"th",36),o(1," N\xDAMERO DE PLAZA "),i())}function Ve(e,n){if(e&1&&(a(0,"td",37),o(1),i()),e&2){let t=n.$implicit;r(),u(" ",t.NUMPLA," ")}}function ke(e,n){e&1&&(a(0,"th",36),o(1," RELACI\xD3N LABORAL "),i())}function He(e,n){if(e&1&&(a(0,"td",37),o(1),i()),e&2){let t=n.$implicit;r(),u(" ",t.REL_LAB==="MMS"?"MANDO MEDIO":t.REL_LAB==="B"?"BASE":t.REL_LAB==="CN"?"CONTRATO NOMBRAMIENTO":t.REL_LAB==="CC"?"CONTRATO CONFIANZA":t.REL_LAB," ")}}function Ue(e,n){e&1&&(a(0,"th",36),o(1," CLAVECAT "),i())}function $e(e,n){if(e&1&&(a(0,"td",37),o(1),i()),e&2){let t=n.$implicit;r(),u(" ",t.CLAVECAT," ")}}function ze(e,n){e&1&&(a(0,"th",36),o(1," FECHA DE BAJA "),i())}function Qe(e,n){if(e&1&&(a(0,"td",37),o(1),i()),e&2){let t=n.$implicit;r(),u(" ",t.discharge_date," ")}}function Je(e,n){e&1&&(a(0,"th",36),o(1," RAZ\xD3N "),i())}function qe(e,n){if(e&1&&(a(0,"td",37),o(1),i()),e&2){let t=n.$implicit;r(),u(" ",t.reason==="R-DEF"?"Renuncia definitiva":t.reason==="R-OCA"?"Renuncia por ocupar otro cargo":t.reason==="R-JUB"?"Renuncia por jubilaci\xF3n":t.reason==="R-PEN"?"Renuncia por pensi\xF3n":t.reason==="L-IBASE"?"Licencia indefinida a base":t.reason==="L-SS"?"Licencia sin goce de sueldo":t.reason==="L-PRRO"?"Licencia prorroga":t.reason==="RR"?"Rescisi\xF3n o revocaci\xF3n":"Defunci\xF3n"," ")}}function Ze(e,n){e&1&&(a(0,"th",36),o(1," OPCIONES "),i())}function We(e,n){if(e&1){let t=E();a(0,"td",37)(1,"button",38),g("click",function(){let m=h(t).$implicit,c=C();return x(c.dowlandOffFile(m))}),o(2," Descargar baja "),i()()}}function Ye(e,n){e&1&&f(0,"tr",39)}function Ge(e,n){e&1&&f(0,"tr",40)}function Ke(e,n){e&1&&(a(0,"tr",41)(1,"td",42),o(2,"No se han encontrado resultados"),i()())}var xt=(()=>{class e{constructor(t,l){this.router=t,this.servicepersonal=l,this.displayedColumns=["#","name","employmentRelationship","category","project","options"],this.columnsCasualties=["#","NOMBRE","NUMPLA","REL_LAB","CLAVECAT","FECHA_BAJA","RAZ\xD3N","OPCIONES"],this.noResults=!1,this.searchTerm="",this.searchResults=new b([]),this.hasSearched=!1,this.loading=!1,this.recentCasualties=new b([])}ngAfterViewInit(){this.searchResults.paginator=this.paginator,this.searchResults.sort=this.sort,this.searchResults.filterPredicate=(t,l)=>{let m=l.trim().toLowerCase();return t.name.toLowerCase().includes(m)},this.getRecentCasualties()}applyQuery(){this.loading=!0,this.servicepersonal.getInfoEmployeesInformationBaja(this.searchTerm).subscribe(t=>{this.loading=!1,this.searchResults.data=t,this.hasSearched=!0,this.paginator&&this.paginator.firstPage()})}getRecentCasualties(){this.servicepersonal.getRecentCasualties().subscribe(t=>{this.recentCasualties.data=t})}goToEmployeeDetail(t){this.servicepersonal.setNewSearch(t),this.router.navigate(["personal","formulario_baja",t.CURP])}dowlandOffFile(t){this.servicepersonal.dowlandOffFile(t.CURP).subscribe(l=>{if(l){let m=window.URL.createObjectURL(l),c=document.createElement("a");c.href=m,c.download=`BAJA_${t.CURP}.docx`,document.body.appendChild(c),c.click(),document.body.removeChild(c)}})}static{this.\u0275fac=function(l){return new(l||e)(L(F),L(ce))}}static{this.\u0275cmp=w({type:e,selectors:[["app-list-personal-baja"]],viewQuery:function(l,m){if(l&1&&(M(P,5),M(ue,5)),l&2){let c;B(c=R())&&(m.paginator=c.first),B(c=R())&&(m.sort=c.first)}},standalone:!0,features:[y([{provide:de,useValue:fe()}]),D],decls:81,vars:12,consts:[["input",""],["appearance","outlined"],[1,"container"],[1,"row"],[1,"col-6","p-0"],["appearance","outline","color","accent"],["matInput","",3,"ngModelChange","keyup.enter","ngModel"],["matSuffix",""],[1,"col-6","d-flex","justify-content-end","p-0"],["mat-raised-button","","type","submit",1,"custom-button",2,"margin","0"],[1,"d-inline","d-sm-none"],[1,"d-none","d-sm-inline"],["mode","indeterminate",4,"ngIf"],[1,"table-content"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","#"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","employmentRelationship"],["matColumnDef","category"],["matColumnDef","project"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row text-center",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions"],[1,"table-content",2,"margin","0"],["matColumnDef","NOMBRE"],["matColumnDef","NUMPLA"],["matColumnDef","REL_LAB"],["matColumnDef","CLAVECAT"],["matColumnDef","FECHA_BAJA"],["matColumnDef","RAZ\xD3N"],["matColumnDef","OPCIONES"],["mode","indeterminate"],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","",1,"solicitar-baja-btn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row","text-center"],["colspan","7",1,"mat-cell"]],template:function(l,m){if(l&1){let c=E();a(0,"h3"),o(1,"BAJAS DISPONIBLES"),i(),a(2,"mat-card",1)(3,"mat-card-content")(4,"div",2)(5,"div",3)(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),o(9,"Buscar"),i(),a(10,"input",6,0),j("ngModelChange",function(S){return h(c),v(m.searchTerm,S)||(m.searchTerm=S),x(S)}),g("keyup.enter",function(){return h(c),x(m.applyQuery())}),i(),a(12,"mat-icon",7),o(13,"search"),i()()(),a(14,"div",8)(15,"button",9)(16,"span",10),o(17,"Filtros"),i(),a(18,"span",11),o(19,"Filtros de b\xFAsqueda"),i(),a(20,"mat-icon"),o(21,"filter_alt"),i()()()()(),s(22,xe,1,0,"mat-progress-bar",12),a(23,"div",13)(24,"table",14),d(25,15),s(26,Ee,2,0,"th",16)(27,ge,2,1,"td",17),p(),d(28,18),s(29,Pe,2,0,"th",16)(30,Se,2,1,"td",17),p(),d(31,19),s(32,Le,2,0,"th",16)(33,Me,2,1,"td",17),p(),d(34,20),s(35,Be,2,0,"th",16)(36,Re,2,1,"td",17),p(),d(37,21),s(38,Te,2,0,"th",16)(39,be,2,1,"td",17),p(),d(40,22),s(41,we,2,0,"th",16)(42,Ae,3,0,"td",17),p(),s(43,Oe,1,0,"tr",23)(44,ve,1,0,"tr",24)(45,je,3,1,"tr",25),i(),f(46,"mat-paginator",26),i()()(),a(47,"h3"),o(48,"BAJAS RECIENTES"),i(),a(49,"mat-card",1)(50,"mat-card-content")(51,"div",27)(52,"table",14),d(53,15),s(54,ye,2,0,"th",16)(55,De,2,1,"td",17),p(),d(56,28),s(57,Ie,2,0,"th",16)(58,Ne,2,1,"td",17),p(),d(59,29),s(60,Fe,2,0,"th",16)(61,Ve,2,1,"td",17),p(),d(62,30),s(63,ke,2,0,"th",16)(64,He,2,1,"td",17),p(),d(65,31),s(66,Ue,2,0,"th",16)(67,$e,2,1,"td",17),p(),d(68,32),s(69,ze,2,0,"th",16)(70,Qe,2,1,"td",17),p(),d(71,33),s(72,Je,2,0,"th",16)(73,qe,2,1,"td",17),p(),d(74,34),s(75,Ze,2,0,"th",16)(76,We,3,0,"td",17),p(),s(77,Ye,1,0,"tr",23)(78,Ge,1,0,"tr",24)(79,Ke,3,0,"tr",25),i(),f(80,"mat-paginator",26),i()()()}l&2&&(r(10),O("ngModel",m.searchTerm),r(12),_("ngIf",m.loading),r(2),_("dataSource",m.searchResults),r(19),_("matHeaderRowDef",m.displayedColumns),r(),_("matRowDefColumns",m.displayedColumns),r(2),_("pageSizeOptions",T(10,Ce)),r(6),_("dataSource",m.recentCasualties),r(25),_("matHeaderRowDef",m.columnsCasualties),r(),_("matRowDefColumns",m.columnsCasualties),r(2),_("pageSizeOptions",T(11,Ce)))},dependencies:[le,Y,K,ne,X,G,ie,ee,te,ae,oe,re,_e,pe,P,se,V,J,Q,$,z,q,Z,W,k,H,U,me,N,I],styles:["mat-card[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;box-shadow:5px 5px 10px #77777740}mat-card-content[_ngcontent-%COMP%]{margin:25px}.container[_ngcontent-%COMP%]{margin-bottom:10px;max-width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:0}mat-form-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#000}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#6c6e6d;border:1px solid #6c6e6d}.table-content[_ngcontent-%COMP%]{border:1px solid #777777;overflow:auto;width:100%;margin-top:30px}.mat-elevation-z8[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none}.mat-mdc-row[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:1px solid #777777;border-top:1px solid #777777;cursor:pointer}.mat-mdc-header-cell[_ngcontent-%COMP%]{color:#fff}.mat-mdc-row[_ngcontent-%COMP%]:hover   .mat-mdc-cell[_ngcontent-%COMP%]{background-color:#f1f1f1}table[_ngcontent-%COMP%]{width:100%;table-layout:auto;border-collapse:collapse}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#9d2449;border:1px solid #9D2449}th[_ngcontent-%COMP%]{background-color:#9d2449!important}  .mat-mdc-form-field-subscript-wrapper, .mat-mdc-form-field-bottom-align[_ngcontent-%COMP%]:before{display:none}"]})}}return e})();export{xt as ListPersonalBajaComponent};
