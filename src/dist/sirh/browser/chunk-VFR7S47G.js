import{a as Te}from"./chunk-KOPCLON4.js";import{a as Oe,b as N,c as Ue,d as T,e as De,f as Ie,g as Ae}from"./chunk-SB55JBTI.js";import{A as p,Aa as fe,B as Y,Ba as _e,C as ee,Ca as ge,Da as Ce,E as te,Ea as xe,F as ne,Fa as he,G as ie,Ga as Ee,H as oe,Ha as Se,I as ae,Ia as we,Ja as ve,K as O,Ka as Me,L as re,La as ye,Ma as be,N as U,O as D,P as I,Q as le,Qa as F,R as me,T as A,i as Z,qa as se,u as W,v as b,wa as ce,x as J,xa as de,ya as pe,z as K,za as ue}from"./chunk-FNT2LJKG.js";import"./chunk-Z2MHMUCR.js";import"./chunk-CARY4E7O.js";import{$a as l,Eb as i,Fb as n,Gb as d,Hb as C,Ib as x,Jc as Q,Kb as R,Kc as G,Nb as g,Pb as u,Sc as y,Ub as q,Vb as L,Wb as $,Yb as a,Zb as j,_b as _,ab as S,cc as X,dc as M,ec as z,f as Ne,ia as B,mb as V,na as v,sb as s,tb as H,ub as c,va as h,wa as E}from"./chunk-LOEIOWTE.js";function Be(t,r){if(t&1&&(i(0,"small"),d(1,"i",27),a(2),n()),t&2){let e=u().$implicit;l(2),_("",e.message," ")}}function Ve(t,r){if(t&1&&(i(0,"mat-error"),s(1,Be,3,1,"small",26),n()),t&2){let e,m=r.$implicit,o=u();l(),c("ngIf",((e=o.newUserForm.get("name"))==null?null:e.hasError(m.type))&&(((e=o.newUserForm.get("name"))==null?null:e.dirty)||((e=o.newUserForm.get("name"))==null?null:e.touched)))}}function He(t,r){if(t&1&&(i(0,"small"),d(1,"i",27),a(2),n()),t&2){let e=u().$implicit;l(2),_("",e.message," ")}}function je(t,r){if(t&1&&(i(0,"mat-error"),s(1,He,3,1,"small",26),n()),t&2){let e,m=r.$implicit,o=u();l(),c("ngIf",((e=o.newUserForm.get("sex"))==null?null:e.hasError(m.type))&&(((e=o.newUserForm.get("sex"))==null?null:e.dirty)||((e=o.newUserForm.get("sex"))==null?null:e.touched)))}}function Xe(t,r){if(t&1&&(i(0,"small"),d(1,"i",27),a(2),n()),t&2){let e=u().$implicit;l(2),_("",e.message," ")}}function ze(t,r){if(t&1&&(i(0,"mat-error"),s(1,Xe,3,1,"small",26),n()),t&2){let e,m=r.$implicit,o=u();l(),c("ngIf",((e=o.newUserForm.get("phone"))==null?null:e.hasError(m.type))&&(((e=o.newUserForm.get("phone"))==null?null:e.dirty)||((e=o.newUserForm.get("phone"))==null?null:e.touched)))}}function Qe(t,r){if(t&1&&(i(0,"small"),d(1,"i",27),a(2),n()),t&2){let e=u().$implicit;l(2),_("",e.message," ")}}function Ge(t,r){if(t&1&&(i(0,"mat-error"),s(1,Qe,3,1,"small",26),n()),t&2){let e,m=r.$implicit,o=u();l(),c("ngIf",((e=o.newUserForm.get("username"))==null?null:e.hasError(m.type))&&(((e=o.newUserForm.get("username"))==null?null:e.dirty)||((e=o.newUserForm.get("username"))==null?null:e.touched)))}}function Ze(t,r){if(t&1&&(i(0,"small"),d(1,"i",27),a(2),n()),t&2){let e=u().$implicit;l(2),_("",e.message," ")}}function We(t,r){if(t&1&&(i(0,"mat-error"),s(1,Ze,3,1,"small",26),n()),t&2){let e,m=r.$implicit,o=u();l(),c("ngIf",((e=o.newUserForm.get("password"))==null?null:e.hasError(m.type))&&(((e=o.newUserForm.get("password"))==null?null:e.dirty)||((e=o.newUserForm.get("password"))==null?null:e.touched)))}}function Je(t,r){if(t&1&&(i(0,"small"),d(1,"i",27),a(2),n()),t&2){let e=u().$implicit;l(2),_("",e.message," ")}}function Ke(t,r){if(t&1&&(i(0,"mat-error"),s(1,Je,3,1,"small",26),n()),t&2){let e,m=r.$implicit,o=u();l(),c("ngIf",((e=o.newUserForm.get("rol"))==null?null:e.hasError(m.type))&&(((e=o.newUserForm.get("rol"))==null?null:e.dirty)||((e=o.newUserForm.get("rol"))==null?null:e.touched)))}}function Ye(t,r){if(t&1&&(i(0,"small"),d(1,"i",27),a(2),n()),t&2){let e=u().$implicit;l(2),_("",e.message," ")}}function et(t,r){if(t&1&&(i(0,"mat-error"),s(1,Ye,3,1,"small",26),n()),t&2){let e,m=r.$implicit,o=u();l(),c("ngIf",((e=o.newUserForm.get("level"))==null?null:e.hasError(m.type))&&(((e=o.newUserForm.get("level"))==null?null:e.dirty)||((e=o.newUserForm.get("level"))==null?null:e.touched)))}}var Fe=(()=>{class t{clickEvent(e){this.hide.set(!this.hide()),e.preventDefault(),e.stopPropagation()}constructor(e,m){this.fb=e,this.dialogRef=m,this.hide=V(!0),this.onlyLettersSpaces="^[A-Z\xC1\xC9\xCD\xD3\xDA\xD1a-z\xE1\xE9\xED\xF3\xFA\xF1'\xB4-]+(?: [A-Z\xC1\xC9\xCD\xD3\xDA\xD1a-z\xE1\xE9\xED\xF3\xFA\xF1'\xB4-]+)*$",this.patternPassword=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]+$/,this.newUserForm=this.fb.group({name:["",[p.required,p.minLength(3),p.maxLength(50),p.pattern(this.onlyLettersSpaces)]],sex:["",[p.required]],phone:["",[p.required,p.minLength(10),p.maxLength(10),p.pattern(/^[0-9]+$/)]],username:["",[p.required,p.minLength(4),p.maxLength(16),p.pattern("^[a-zA-Z0-9]+$")]],password:["",[p.required,p.minLength(8),p.maxLength(20),p.pattern(this.patternPassword)]],rol:["",[p.required]],level:["",[p.required]]}),this.validationMessages={name:[{type:"required",message:"El campo es requerido"},{type:"minlength",message:"El campo requiere como m\xEDnimo 3 caracteres"},{type:"maxlength",message:"El campo requiere como m\xE1ximo 50 caracteres"},{type:"pattern",message:"El campo solo acepta letras"}],sex:[{type:"required",message:"El campo es requerido"}],phone:[{type:"required",message:"El campo es requerido"},{type:"minlength",message:"El campo requiere como m\xEDnimo 10 caracteres"},{type:"maxlength",message:"El campo requiere como m\xE1ximo 10 caracteres"},{type:"pattern",message:"El campo solo acepta n\xFAmeros"}],username:[{type:"required",message:"El campo es requerido"},{type:"minlength",message:"El campo requiere como m\xEDnimo 4 caracteres"},{type:"maxlength",message:"El campo requiere como m\xE1ximo 16 caracteres"},{type:"pattern",message:"El campo solo acepta letras y n\xFAmeros"}],password:[{type:"required",message:"El campo es requerido"},{type:"minlength",message:"El campo requiere como m\xEDnimo 8 caracteres"},{type:"maxlength",message:"El campo requiere como m\xE1ximo 20 caracteres"},{type:"pattern",message:"El campo requiere al menos una may\xFAscula, un n\xFAmero y un car\xE1cter especial"}],rol:[{type:"required",message:"El campo es requerido"}],level:[{type:"required",message:"El campo es requerido"}]}}closedDialog(){this.dialogRef.close()}submitNewUserForm(){if(this.newUserForm.invalid){this.newUserForm.markAllAsTouched();return}}static{this.\u0275fac=function(m){return new(m||t)(S(ae),S(ce))}}static{this.\u0275cmp=v({type:t,selectors:[["app-new-user-dialog"]],standalone:!0,features:[M],decls:71,vars:12,consts:[["mat-dialog-title","",1,"matTitle"],["for",""],["mat-icon-button","",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","row-cols-1","row-cols-md-3","g-4"],[1,"col"],["appearance","outline"],["matInput","","formControlName","name","required",""],[4,"ngFor","ngForOf"],["placeholder","Seleccionar Opci\xF3n","matInput","","formControlName","sex","required",""],["value","Hombre"],["value","Mujer"],["matInput","","formControlName","phone","required",""],["matInput","","formControlName","username","required",""],["matInput","","formControlName","password","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"row","row-cols-1","row-cols-md-2","g-4"],[1,"col",2,"margin","0"],["placeholder","Seleccionar Opci\xF3n","matInput","","formControlName","rol","required",""],["value","Administrador"],["value","Usuario"],["placeholder","Seleccionar Opci\xF3n","matInput","","formControlName","level","required",""],["value","1"],["value","2"],[1,"row","d-flex","justify-content-center"],["mat-raised-button","","color","accent",1,"buttonSubmit"],[4,"ngIf"],[1,"fa","fa-circle-exclamation"]],template:function(m,o){m&1&&(i(0,"div",0)(1,"label",1),a(2,"CREAR USUARIO"),n(),i(3,"button",2),g("click",function(){return o.closedDialog()}),i(4,"mat-icon"),a(5,"close"),n()()(),i(6,"mat-dialog-content")(7,"form",3),g("ngSubmit",function(){return o.submitNewUserForm()}),i(8,"div",4)(9,"div",5)(10,"mat-form-field",6)(11,"mat-label"),a(12,"Nombre"),n(),d(13,"input",7),n(),s(14,Ve,2,1,"mat-error",8),n(),i(15,"div",5)(16,"mat-form-field",6)(17,"mat-label"),a(18,"Sexo"),n(),i(19,"mat-select",9)(20,"mat-option",10),a(21,"Hombre"),n(),i(22,"mat-option",11),a(23,"Mujer"),n()()(),s(24,je,2,1,"mat-error",8),n(),i(25,"div",5)(26,"mat-form-field",6)(27,"mat-label"),a(28,"Tel\xE9fono"),n(),d(29,"input",12),n(),s(30,ze,2,1,"mat-error",8),n(),i(31,"div",5)(32,"mat-form-field",6)(33,"mat-label"),a(34,"Usuario"),n(),d(35,"input",13),n(),s(36,Ge,2,1,"mat-error",8),n(),i(37,"div",5)(38,"mat-form-field",6)(39,"mat-label"),a(40,"Contrase\xF1a"),n(),d(41,"input",14),i(42,"button",15),g("click",function(w){return o.clickEvent(w)}),i(43,"mat-icon"),a(44),n()()(),s(45,We,2,1,"mat-error",8),n(),i(46,"div",5)(47,"div",16)(48,"div",17)(49,"mat-form-field",6)(50,"mat-label"),a(51,"Rol"),n(),i(52,"mat-select",18)(53,"mat-option",19),a(54,"Administrador"),n(),i(55,"mat-option",20),a(56,"Usuario"),n()()(),s(57,Ke,2,1,"mat-error",8),n(),i(58,"div",17)(59,"mat-form-field",6)(60,"mat-label"),a(61,"Nivel"),n(),i(62,"mat-select",21)(63,"mat-option",22),a(64,"1"),n(),i(65,"mat-option",23),a(66,"2"),n()()(),s(67,et,2,1,"mat-error",8),n()()()(),i(68,"div",24)(69,"button",25),a(70,"Aceptar"),n()()()()),m&2&&(l(7),c("formGroup",o.newUserForm),l(7),c("ngForOf",o.validationMessages.name),l(10),c("ngForOf",o.validationMessages.sex),l(6),c("ngForOf",o.validationMessages.phone),l(6),c("ngForOf",o.validationMessages.username),l(5),c("type",o.hide()?"password":"text"),l(),H("aria-label","Hide password")("aria-pressed",o.hide()),l(2),j(o.hide()?"visibility_off":"visibility"),l(),c("ngForOf",o.validationMessages.password),l(12),c("ngForOf",o.validationMessages.rol),l(10),c("ngForOf",o.validationMessages.level))},dependencies:[F,b,J,I,D,O,re,U,A,te,K,Y,ee,oe,ne,ie,se,W,pe,ue,y,Q,G],styles:[".matTitle[_ngcontent-%COMP%]{background-color:#9d2449;color:#fff!important;display:flex;justify-content:space-between;padding:0 16px;align-items:center}.matTitle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex-grow:1}mat-dialog-content[_ngcontent-%COMP%]{width:auto}  .mat-mdc-form-field-subscript-wrapper, .mat-mdc-form-field-bottom-align[_ngcontent-%COMP%]:before{display:none}mat-form-field[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{margin-top:0}.buttonSubmit[_ngcontent-%COMP%]{width:250px;margin-top:30px;margin-bottom:10px}mat-label[_ngcontent-%COMP%]{color:#000}.col[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}"],changeDetection:0})}}return t})();var k=Ne(Te());var tt=()=>[5,10,25,100];function nt(t,r){t&1&&(i(0,"th",27),a(1," # "),n())}function it(t,r){if(t&1&&(i(0,"td",28),a(1),n()),t&2){let e=r.$implicit;l(),_(" ",e.ID," ")}}function ot(t,r){t&1&&(i(0,"th",29),a(1," NOMBRE "),n())}function at(t,r){if(t&1&&(i(0,"td",28),a(1),n()),t&2){let e=r.$implicit;l(),_(" ",e.NOMBRE," ")}}function rt(t,r){t&1&&(i(0,"th",29),a(1," SEXO "),n())}function lt(t,r){if(t&1&&(i(0,"td",28),a(1),n()),t&2){let e=r.$implicit;l(),_(" ",e.SEXO," ")}}function mt(t,r){t&1&&(i(0,"th",29),a(1," USUARIO "),n())}function st(t,r){if(t&1&&(i(0,"td",28),a(1),n()),t&2){let e=r.$implicit;l(),_(" ",e.USUARIO," ")}}function ct(t,r){t&1&&(i(0,"th",29),a(1," ROL "),n())}function dt(t,r){if(t&1&&(i(0,"td",28),a(1),n()),t&2){let e=r.$implicit;l(),_(" ",e.ROL," ")}}function pt(t,r){t&1&&(i(0,"th",29),a(1," \xDALTIMA CONEXI\xD3N "),n())}function ut(t,r){if(t&1&&(i(0,"td",28),a(1),n()),t&2){let e=r.$implicit;l(),_(" ",e.ULTIMACONEX," ")}}function ft(t,r){t&1&&(i(0,"th",29),a(1," OPCIONES "),n())}function _t(t,r){if(t&1){let e=R();i(0,"td",28)(1,"div",30)(2,"button",31),d(3,"i",32),n(),i(4,"button",31),d(5,"i",33),n(),i(6,"button",34),g("click",function(){let o=h(e).$implicit,f=u();return E(f.alertDeleteUser(o))}),d(7,"i",35),n()()()}}function gt(t,r){t&1&&d(0,"tr",36)}function Ct(t,r){t&1&&d(0,"tr",37)}function xt(t,r){t&1&&(i(0,"tr",38)(1,"td",39),a(2,"No se han encontrado resultados de la siguiente b\xFAsqueda."),n()())}var ht=[{ID:1,NOMBRE:"Fernando Castellanos Garc\xEDa",SEXO:"Hombre",USUARIO:"FerSecreF",ROL:"Administrador",ULTIMACONEX:"16-12-2024 08:34:23"},{ID:2,NOMBRE:"Sofia Cuevas Altamirano",SEXO:"Mujer",USUARIO:"SofiSecreF",ROL:"Usuario",ULTIMACONEX:"23-12-2024 13:58:19"}],zt=(()=>{class t{constructor(e){this.dialog=e,this.displayedColumns=["#","NOMBRE","SEXO","USUARIO","ROL","ULTIMACONEX","OPCIONES"],this.dataSource=new be(ht),this.noResults=!1,this._liveAnnouncer=B(Z)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}announceSortChange(e){e.direction?this._liveAnnouncer.announce(`Sorted ${e.direction}ending`):this._liveAnnouncer.announce("Sorting cleared")}applyFilter(e){let m=e.target.value;this.dataSource.filterPredicate=(o,f)=>o.NOMBRE.toLowerCase().includes(f),this.dataSource.filter=m,this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openDialogNewUser(){this.dialog.open(Fe,{disableClose:!0})}alertDeleteUser(e){k.default.fire({title:"\xBFEst\xE1s seguro de inhabilitar el usuario?",html:`La informaci\xF3n de <b>${e.NOMBRE}</b> no ser\xE1 eliminada por completo`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#9D2449",cancelButtonColor:"#6C6E6D",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(m=>{m.isConfirmed&&k.default.fire({title:"Proceso completado!",text:"El usuario se ha inhabilitado correctamente",icon:"success",confirmButtonText:"Aceptar",confirmButtonColor:"#6C6E6D"})})}static{this.\u0275fac=function(m){return new(m||t)(S(de))}}static{this.\u0275cmp=v({type:t,selectors:[["app-admin"]],viewQuery:function(m,o){if(m&1&&(q(N,5),q(T,5)),m&2){let f;L(f=$())&&(o.paginator=f.first),L(f=$())&&(o.sort=f.first)}},standalone:!0,features:[X([{provide:Oe,useValue:Ae()}]),M],decls:46,vars:5,consts:[["input",""],["appearance","outlined"],[1,"container"],[1,"row"],[1,"col-6","p-0"],["appearance","outline","color","accent"],["matInput","",3,"keyup"],["matSuffix",""],[1,"col-6","d-flex","justify-content-end","p-0"],["mat-raised-button","","type","submit",1,"buttonWithIcon",3,"click"],[1,"fa-solid","fa-plus"],[1,"table-content"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"matSortChange","dataSource"],["matColumnDef","#"],["class","table-header","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","NOMBRE"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","SEXO"],["matColumnDef","USUARIO"],["matColumnDef","ROL"],["matColumnDef","ULTIMACONEX"],["matColumnDef","OPCIONES"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row text-center",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","",1,"table-header"],["mat-cell",""],["mat-header-cell",""],[1,"d-flex","gap-2","align-items-center"],["mat-raised-button","",1,"d-flex","justify-content-center","align-items-center"],[1,"fa-solid","fa-eye"],[1,"fa-solid","fa-user-pen"],["mat-raised-button","",1,"d-flex","justify-content-center","align-items-center",3,"click"],[1,"fa-solid","fa-trash"],["mat-header-row",""],["mat-row",""],[1,"mat-row","text-center"],["colspan","7",1,"mat-cell"]],template:function(m,o){if(m&1){let f=R();i(0,"h3"),a(1,"USUARIOS"),n(),i(2,"mat-card",1)(3,"mat-card-content")(4,"div",2)(5,"div",3)(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),a(9,"Buscar"),n(),i(10,"input",6,0),g("keyup",function(P){return h(f),E(o.applyFilter(P))}),n(),i(12,"mat-icon",7),a(13,"search"),n()()(),i(14,"div",8)(15,"button",9),g("click",function(){return h(f),E(o.openDialogNewUser())}),i(16,"mat-icon"),d(17,"i",10),n(),a(18," Crear usuario "),n()()()(),i(19,"div",11)(20,"table",12),g("matSortChange",function(P){return h(f),E(o.announceSortChange(P))}),C(21,13),s(22,nt,2,0,"th",14)(23,it,2,1,"td",15),x(),C(24,16),s(25,ot,2,0,"th",17)(26,at,2,1,"td",15),x(),C(27,18),s(28,rt,2,0,"th",17)(29,lt,2,1,"td",15),x(),C(30,19),s(31,mt,2,0,"th",17)(32,st,2,1,"td",15),x(),C(33,20),s(34,ct,2,0,"th",17)(35,dt,2,1,"td",15),x(),C(36,21),s(37,pt,2,0,"th",17)(38,ut,2,1,"td",15),x(),C(39,22),s(40,ft,2,0,"th",17)(41,_t,8,0,"td",15),x(),s(42,gt,1,0,"tr",23)(43,Ct,1,0,"tr",24)(44,xt,3,0,"tr",25),n(),d(45,"mat-paginator",26),n()()()}m&2&&(l(20),c("dataSource",o.dataSource),l(22),c("matHeaderRowDef",o.displayedColumns),l(),c("matRowDefColumns",o.displayedColumns),l(2),c("pageSizeOptions",z(4,tt)))},dependencies:[ye,fe,ge,Ee,Ce,_e,Se,xe,he,we,ve,Me,Ie,T,De,Ue,N,F,b,I,D,O,U,le,me,A,y],styles:["mat-card[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;box-shadow:5px 5px 10px #77777740}mat-card-content[_ngcontent-%COMP%]{margin:25px}.container[_ngcontent-%COMP%]{margin-bottom:10px;max-width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%;padding:0}mat-form-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#000}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#777;color:#fff}.table-content[_ngcontent-%COMP%]{border:1px solid #777777;overflow:auto;width:100%;margin-top:30px}.mat-elevation-z8[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none}.mat-mdc-row[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:1px solid #777777;border-top:1px solid #777777;cursor:pointer}.mat-mdc-header-cell[_ngcontent-%COMP%]{color:#fff}.mat-mdc-row[_ngcontent-%COMP%]:hover   .mat-mdc-cell[_ngcontent-%COMP%]{background-color:#f1f1f1}table[_ngcontent-%COMP%]{width:100%;table-layout:auto;border-collapse:collapse}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#9d2449;border:1px solid #9D2449}th[_ngcontent-%COMP%]{background-color:#9d2449!important}  .mat-mdc-form-field-subscript-wrapper, .mat-mdc-form-field-bottom-align[_ngcontent-%COMP%]:before{display:none}"]})}}return t})();export{zt as AdminComponent};
